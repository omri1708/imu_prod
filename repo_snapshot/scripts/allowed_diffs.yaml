# חוקים כלליים
kinds:
  Deployment:
    - /template/spec/nodeSelector
    - /template/spec/tolerations
    - /template/spec/affinity
  Service:
    - /spec/externalTrafficPolicy
  Ingress:
    - /metadata/annotations
  ServiceMonitor:
    - /spec/selector/matchLabels

resources:
  - kind: "ConfigMap"
    name: ".*grafana-dashboards"
    namespace: ".*"
  - kind: "Ingress"
    name: ".*"
    namespace: ".*"

fields:
  - selector: { kind: "Deployment", name: ".*external-dns.*", namespace: ".*" }
    allow: [ /spec/template/spec/containers/0/args ]

# חוקים נוספים לפי סביבה
environments:
  dev:
    kinds:
      Deployment: [ /template/spec/topologySpreadConstraints ]
    resources: []
    fields: []
  staging:
    kinds: {}
    resources: []
    fields: []
  prod:
    kinds: {}
    resources: []
    fields: []
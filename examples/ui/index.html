<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>IMU Streams Demo</title>
<style>
  body { font-family: system-ui, sans-serif; margin: 24px; }
  .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
  .imu-progress { position: relative; height: 16px; background: #eee; border-radius: 8px; overflow: hidden; }
  .imu-progress .bar { position: absolute; left:0; top:0; bottom:0; width:0%; background:#4caf50; }
  .imu-timeline { list-style:none; padding:0; margin:0; }
  .imu-timeline li { padding:6px 8px; border-bottom:1px solid #ddd; font-family: ui-monospace, monospace; }
</style>
</head>
<body>
<h1>IMU Streams</h1>
<div class="grid">
  <div>
    <h3>Build Progress</h3>
    <div id="progress1"></div>
  </div>
  <div>
    <h3>Event Timeline</h3>
    <div id="timeline1"></div>
  </div>
</div>
<script type="module">
import { WSClient, mountProgress, mountTimeline } from "../../ui_runtime/stream_widgets.js";

const ws = new WSClient("ws://127.0.0.1:8765");
ws.connect();

// התחברות ל-widgets
mountProgress(document.getElementById("progress1"), ws, "progress:build", "build");
mountTimeline(document.getElementById("timeline1"), ws, "events", 50);
</script>
</body>
</html>